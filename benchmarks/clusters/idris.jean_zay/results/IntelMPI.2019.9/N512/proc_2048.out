      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Project.toml`
  [6e4b80f9] BenchmarkTools v1.1.4
  [7a1cc6ca] FFTW v1.4.3
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [bac558e1] OrderedCollections v1.4.1
  [4a48f351] PencilFFTs v0.12.4 `..`
  [d330b81b] PyPlot v2.9.0
  [a759f4b9] TimerOutputs v0.5.12
  [8bb1440f] DelimitedFiles
  [44cfe95a] Pkg
Julia Version 1.7.0-beta3.0
Commit e76c9dad42 (2021-07-07 08:12 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-12.0.0 (ORCJIT, cascadelake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
  JULIA_HDF5_LIBRARY_PATH = /gpfs7kro/gpfslocalsup/spack_soft/hdf5/1.12.0/intel-19.1.3-kxaus62d34qqpq7e4x2xgoj4d7qjcns5/lib
MPI: (MPI.IntelMPI, v"2019.9.0")
      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Manifest.toml`
  [621f4979] AbstractFFTs v1.0.1
  [79e6a3ab] Adapt v3.3.1
  [4fba245c] ArrayInterface v3.1.25
  [6e4b80f9] BenchmarkTools v1.1.4
  [3da002f7] ColorTypes v0.11.0
  [5ae59095] Colors v0.12.8
  [8f4d0f93] Conda v1.5.2
  [ffbed154] DocStringExtensions v0.8.5
  [e2ba6199] ExprTools v0.1.6
  [7a1cc6ca] FFTW v1.4.3
  [53c48c17] FixedPointNumbers v0.8.4
  [615f187c] IfElse v0.1.0
  [692b3bcd] JLLWrappers v1.3.0
  [682c06a0] JSON v0.21.2
  [0f8b85d8] JSON3 v1.9.1
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [1914dd2f] MacroTools v0.5.7
  [6fe1bfb0] OffsetArrays v1.10.5
  [bac558e1] OrderedCollections v1.4.1
  [69de0a69] Parsers v2.0.3
  [0e08944d] PencilArrays v0.10.0
  [4a48f351] PencilFFTs v0.12.4 `..`
  [21216c6a] Preferences v1.2.2
  [438e738f] PyCall v1.92.3
  [d330b81b] PyPlot v2.9.0
  [189a3867] Reexport v1.2.2
  [ae029012] Requires v1.1.3
  [aedffcd0] Static v0.3.0
  [90137ffa] StaticArrays v1.2.12
  [15972242] StaticPermutations v0.3.0
  [5e0ebb24] Strided v1.1.2
  [856f2bd8] StructTypes v1.7.2
  [a759f4b9] TimerOutputs v0.5.12
  [9d95972d] TupleTools v1.3.0
  [81def892] VersionParsing v1.2.0
  [f5851436] FFTW_jll v3.3.9+8
  [1d5cc7b8] IntelOpenMP_jll v2018.0.3+2
  [856f044c] MKL_jll v2021.1.1+1
  [7cb0a576] MPICH_jll v3.4.2+0
  [9237b28f] MicrosoftMPI_jll v10.1.3+0
  [fe0851c0] OpenMPI_jll v4.1.1+2
  [0dad84c5] ArgTools
  [56f22d72] Artifacts
  [2a0f44e3] Base64
  [ade2ca70] Dates
  [8bb1440f] DelimitedFiles
  [8ba89e20] Distributed
  [f43a241f] Downloads
  [b77e0a4c] InteractiveUtils
  [4af54fe1] LazyArtifacts
  [b27032c2] LibCURL
  [76f85450] LibGit2
  [8f399da3] Libdl
  [37e2e46d] LinearAlgebra
  [56ddb016] Logging
  [d6f4376e] Markdown
  [a63ad114] Mmap
  [ca575930] NetworkOptions
  [44cfe95a] Pkg
  [de0858da] Printf
  [3fa0cd96] REPL
  [9a3f8284] Random
  [ea8e919c] SHA
  [9e88b42a] Serialization
  [6462fe0b] Sockets
  [2f01184e] SparseArrays
  [10745b16] Statistics
  [fa267f1f] TOML
  [a4e569a6] Tar
  [8dfed614] Test
  [cf7118a7] UUIDs
  [4ec0a83e] Unicode
  [e66e0078] CompilerSupportLibraries_jll
  [deac9b47] LibCURL_jll
  [29816b5a] LibSSH2_jll
  [c8ffd9c3] MbedTLS_jll
  [14a3606d] MozillaCACerts_jll
  [4536629a] OpenBLAS_jll
  [83775a58] Zlib_jll
  [8e850b90] libblastrampoline_jll
  [8e850ede] nghttp2_jll
  [3f19e933] p7zip_jll
[ Info: Global dimensions: (512, 512, 512)
[ Info: Repetitions:       100

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512) -> (257, 512, 512)
MPI topology: 2D decomposition (64×32 processes)
Method: PointToPoint
Permutations: Val{true}()

Average time: 14.00396070 ms (TimerOutputs) over 100 repetitions
              14.00937249 ms (MPI_Wtime) ± 0.22546836 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            2.40s / 58.3%           63.1MiB / 33.2%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    719ms  51.4%  7.19ms   9.66MiB  46.1%  98.9KiB
   transpose!             200    627ms  44.8%  3.13ms   8.26MiB  39.5%  42.3KiB
     unpack data          200    433ms  30.9%  2.16ms   6.84MiB  32.7%  35.0KiB
       wait receive     9.40k    359ms  25.6%  38.2μs   2.59MiB  12.4%     289B
       copy_permuted!   9.60k   52.2ms  3.73%  5.44μs   4.25MiB  20.3%     464B
     pack data            200    191ms  13.6%   955μs   1.15MiB  5.52%  5.91KiB
       copy_range!      9.60k   59.9ms  4.28%  6.24μs     0.00B  0.00%    0.00B
   FFT                    300   78.4ms  5.60%   261μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.21ms  0.16%  11.1μs    256KiB  1.20%  1.28KiB
 PencilFFTs mul!          100    681ms  48.6%  6.81ms   11.3MiB  53.9%   115KiB
   transpose!             200    604ms  43.1%  3.02ms   9.87MiB  47.2%  50.5KiB
     unpack data          200    499ms  35.6%  2.49ms   8.45MiB  40.4%  43.2KiB
       wait receive     9.40k    420ms  30.0%  44.7μs   2.59MiB  12.4%     289B
       copy_permuted!   9.60k   56.5ms  4.03%  5.88μs   5.86MiB  28.0%     640B
     pack data            200    103ms  7.33%   513μs   1.15MiB  5.52%  5.91KiB
       copy_range!      9.60k   38.9ms  2.78%  4.05μs     0.00B  0.00%    0.00B
   FFT                    300   69.8ms  4.98%   233μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.10ms  0.15%  10.5μs    256KiB  1.20%  1.28KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 2.112444 ms
  Average FFT        = 0.232510 ms
  Average (un)pack   = 0.476789 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 1.804702 ms
  Average FFT        = 0.261460 ms
  Average (un)pack   = 0.560778 ms
  Average others     = 0.000000 ms

Total from timers: 11.3913 ms/iteration (2.6126 ms / 18.66% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512) -> (257, 512, 512)
MPI topology: 2D decomposition (64×32 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 20.46793232 ms (TimerOutputs) over 100 repetitions
              20.47321302 ms (MPI_Wtime) ± 8.28227244 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            2.05s / 100%            13.0MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    1.08s  53.0%  10.8ms   5.71MiB  43.8%  58.5KiB
   transpose!             200   1000ms  48.8%  5.00ms   4.57MiB  35.0%  23.4KiB
     pack data            200    939ms  45.9%  4.69ms    208KiB  1.56%  1.04KiB
       MPI.Alltoallv!     200    900ms  44.0%  4.50ms    103KiB  0.77%     528B
       copy_range!      9.60k   25.4ms  1.24%  2.65μs     0.00B  0.00%    0.00B
     unpack data          200   57.6ms  2.82%   288μs   4.25MiB  32.6%  21.8KiB
       copy_permuted!   9.60k   47.5ms  2.32%  4.95μs   4.25MiB  32.6%     464B
   FFT                    300   73.7ms  3.60%   246μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   74.5μs  0.00%   373ns     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    962ms  47.0%  9.62ms   7.33MiB  56.2%  75.0KiB
   transpose!             200    895ms  43.7%  4.47ms   6.18MiB  47.4%  31.6KiB
     pack data            200    826ms  40.4%  4.13ms    208KiB  1.56%  1.04KiB
       MPI.Alltoallv!     200    785ms  38.3%  3.92ms    103KiB  0.77%     528B
       copy_range!      9.60k   27.6ms  1.35%  2.87μs     0.00B  0.00%    0.00B
     unpack data          200   65.3ms  3.19%   326μs   5.86MiB  44.9%  30.0KiB
       copy_permuted!   9.60k   55.3ms  2.70%  5.76μs   5.86MiB  44.9%     640B
   FFT                    300   62.8ms  3.07%   209μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   75.0μs  0.00%   375ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 3.925040 ms
  Average FFT        = 0.209351 ms
  Average (un)pack   = 0.414582 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 4.498680 ms
  Average FFT        = 0.245667 ms
  Average (un)pack   = 0.364970 ms
  Average others     = 0.000000 ms

Total from timers: 19.7716 ms/iteration (0.6963 ms / 3.40% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512) -> (257, 512, 512)
MPI topology: 2D decomposition (64×32 processes)
Method: PointToPoint
Permutations: Val{false}()

Average time: 23.27460256 ms (TimerOutputs) over 100 repetitions
              23.27907166 ms (MPI_Wtime) ± 10.14873814 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            2.33s / 100%            20.7MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    1.18s  50.7%  11.8ms   10.5MiB  50.6%   107KiB
   transpose!             200    1.06s  45.7%  5.32ms   8.26MiB  40.0%  42.3KiB
     unpack data          200    876ms  37.7%  4.38ms   6.84MiB  33.1%  35.0KiB
       wait receive     9.40k    809ms  34.7%  86.0μs   2.59MiB  12.5%     289B
       copy_permuted!   9.60k   46.2ms  1.98%  4.81μs   4.25MiB  20.6%     464B
     pack data            200    185ms  7.93%   923μs   1.15MiB  5.59%  5.91KiB
       copy_range!      9.60k   57.9ms  2.49%  6.03μs     0.00B  0.00%    0.00B
   FFT                    300    101ms  4.33%   336μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   4.28ms  0.18%  21.4μs    256KiB  1.21%  1.28KiB
 PencilFFTs mul!          100    1.15s  49.3%  11.5ms   10.2MiB  49.4%   104KiB
   transpose!             200    1.04s  44.8%  5.21ms   8.26MiB  40.0%  42.3KiB
     unpack data          200    943ms  40.5%  4.72ms   6.84MiB  33.1%  35.0KiB
       wait receive     9.40k    887ms  38.1%  94.4μs   2.59MiB  12.5%     289B
       copy_permuted!   9.60k   35.6ms  1.53%  3.71μs   4.25MiB  20.6%     464B
     pack data            200   96.4ms  4.14%   482μs   1.15MiB  5.59%  5.91KiB
       copy_range!      9.60k   37.3ms  1.60%  3.88μs     0.00B  0.00%    0.00B
   FFT                    300   95.5ms  4.10%   318μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.76ms  0.12%  13.8μs    256KiB  1.21%  1.28KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 4.448415 ms
  Average FFT        = 0.318298 ms
  Average (un)pack   = 0.364647 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 4.064093 ms
  Average FFT        = 0.335663 ms
  Average (un)pack   = 0.520152 ms
  Average others     = 0.000000 ms

Total from timers: 20.7565 ms/iteration (2.5181 ms / 10.82% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (512, 512, 512) -> (257, 512, 512)
MPI topology: 2D decomposition (64×32 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 17.15159042 ms (TimerOutputs) over 100 repetitions
              17.15696028 ms (MPI_Wtime) ± 0.20663111 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            1.72s / 100%            12.8MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    885ms  51.6%  8.85ms   6.52MiB  51.0%  66.7KiB
   transpose!             200    777ms  45.3%  3.88ms   4.57MiB  35.8%  23.4KiB
     pack data            200    720ms  42.0%  3.60ms    208KiB  1.59%  1.04KiB
       MPI.Alltoallv!     200    684ms  39.9%  3.42ms    103KiB  0.79%     528B
       copy_range!      9.60k   22.9ms  1.33%  2.38μs     0.00B  0.00%    0.00B
     unpack data          200   53.4ms  3.11%   267μs   4.25MiB  33.3%  21.8KiB
       copy_permuted!   9.60k   43.1ms  2.52%  4.49μs   4.25MiB  33.3%     464B
   FFT                    300   96.1ms  5.61%   320μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   69.4μs  0.00%   347ns     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    831ms  48.4%  8.31ms   6.26MiB  49.0%  64.1KiB
   transpose!             200    732ms  42.7%  3.66ms   4.57MiB  35.8%  23.4KiB
     pack data            200    689ms  40.2%  3.45ms    208KiB  1.59%  1.04KiB
       MPI.Alltoallv!     200    649ms  37.8%  3.25ms    103KiB  0.79%     528B
       copy_range!      9.60k   26.5ms  1.55%  2.76μs     0.00B  0.00%    0.00B
     unpack data          200   39.8ms  2.32%   199μs   4.25MiB  33.3%  21.8KiB
       copy_permuted!   9.60k   30.2ms  1.76%  3.15μs   4.25MiB  33.3%     464B
   FFT                    300   92.9ms  5.42%   310μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   68.2μs  0.00%   341ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 3.246016 ms
  Average FFT        = 0.309799 ms
  Average (un)pack   = 0.283661 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 3.421313 ms
  Average FFT        = 0.320465 ms
  Average (un)pack   = 0.330179 ms
  Average others     = 0.000000 ms

Total from timers: 16.4531 ms/iteration (0.6985 ms / 4.07% missing)

********************************************************************************
[ Info: Writing to results/IntelMPI.2019.9/N512/PencilFFTs_PI.dat
[ Info: Writing to results/IntelMPI.2019.9/N512/PencilFFTs_PA.dat
[ Info: Writing to results/IntelMPI.2019.9/N512/PencilFFTs_NI.dat
[ Info: Writing to results/IntelMPI.2019.9/N512/PencilFFTs_NA.dat
Number of processes:   2048
Dimensions:            512×512×512
Number of repetitions: 100
Output file:           results/IntelMPI.2019.9/N512/P3DFFT2.dat

Dimensions: (512, 512, 512)
Processes:  (32, 64)
 Using stride-1 layout
 Using loop block sizes            2         128           2           1
 Running on            1 threads
L2 error: 2.44145e-24
Average time over 100 iterations: 16.1718 ± 0.206608 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  0.46112     MPI_Alltoallv (X -> Y)
 ( 2)  6.6434      MPI_Alltoallv (Y -> Z)
 ( 3)  4.1618      MPI_Alltoallv (Y <- Z)
 ( 4)  2.143       MPI_Alltoallv (X <- Y)

 ( 5)  0.26002     FFT r2c X
 ( 6)  0.3094      pack + unpack data (X -> Y)
 ( 7)  0.22384     FFT c2c Y
 ( 8)  0.46127     pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  0.68964     pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  0.22565     iFFT c2c Y
 (11)  0.25573     pack + unpack data (X <- Y)
 (12)  0.29001     iFFT c2r X

 (13)  0.00042106  normalise

TOTAL  16.125277

Forward transforms
  Average Alltoallv = 3.5522548
  Average FFT       = 0.2359013
  Average (un)pack  = 0.27341152

Backward transforms
  Average Alltoallv = 3.15239
  Average FFT       = 0.24710468
  Average (un)pack  = 0.35986276
  Average normalise = 0.00042105763

Total from timers: 16.125277 ms/iteration (0.046550142 ms / 0.2878% missing)
