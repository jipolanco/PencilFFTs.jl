      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Project.toml`
  [6e4b80f9] BenchmarkTools v1.1.4
  [7a1cc6ca] FFTW v1.4.3
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [bac558e1] OrderedCollections v1.4.1
  [4a48f351] PencilFFTs v0.12.4 `..`
  [d330b81b] PyPlot v2.9.0
  [a759f4b9] TimerOutputs v0.5.12
  [8bb1440f] DelimitedFiles
  [44cfe95a] Pkg
Julia Version 1.7.0-beta3.0
Commit e76c9dad42 (2021-07-07 08:12 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-12.0.0 (ORCJIT, cascadelake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
  JULIA_HDF5_LIBRARY_PATH = /gpfs7kro/gpfslocalsup/spack_soft/hdf5/1.12.0/intel-19.1.3-kxaus62d34qqpq7e4x2xgoj4d7qjcns5/lib
MPI: (MPI.IntelMPI, v"2019.9.0")
      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Manifest.toml`
  [621f4979] AbstractFFTs v1.0.1
  [79e6a3ab] Adapt v3.3.1
  [4fba245c] ArrayInterface v3.1.25
  [6e4b80f9] BenchmarkTools v1.1.4
  [3da002f7] ColorTypes v0.11.0
  [5ae59095] Colors v0.12.8
  [8f4d0f93] Conda v1.5.2
  [ffbed154] DocStringExtensions v0.8.5
  [e2ba6199] ExprTools v0.1.6
  [7a1cc6ca] FFTW v1.4.3
  [53c48c17] FixedPointNumbers v0.8.4
  [615f187c] IfElse v0.1.0
  [692b3bcd] JLLWrappers v1.3.0
  [682c06a0] JSON v0.21.2
  [0f8b85d8] JSON3 v1.9.1
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [1914dd2f] MacroTools v0.5.7
  [6fe1bfb0] OffsetArrays v1.10.5
  [bac558e1] OrderedCollections v1.4.1
  [69de0a69] Parsers v2.0.3
  [0e08944d] PencilArrays v0.10.0
  [4a48f351] PencilFFTs v0.12.4 `..`
  [21216c6a] Preferences v1.2.2
  [438e738f] PyCall v1.92.3
  [d330b81b] PyPlot v2.9.0
  [189a3867] Reexport v1.2.2
  [ae029012] Requires v1.1.3
  [aedffcd0] Static v0.3.0
  [90137ffa] StaticArrays v1.2.12
  [15972242] StaticPermutations v0.3.0
  [5e0ebb24] Strided v1.1.2
  [856f2bd8] StructTypes v1.7.2
  [a759f4b9] TimerOutputs v0.5.12
  [9d95972d] TupleTools v1.3.0
  [81def892] VersionParsing v1.2.0
  [f5851436] FFTW_jll v3.3.9+8
  [1d5cc7b8] IntelOpenMP_jll v2018.0.3+2
  [856f044c] MKL_jll v2021.1.1+1
  [7cb0a576] MPICH_jll v3.4.2+0
  [9237b28f] MicrosoftMPI_jll v10.1.3+0
  [fe0851c0] OpenMPI_jll v4.1.1+2
  [0dad84c5] ArgTools
  [56f22d72] Artifacts
  [2a0f44e3] Base64
  [ade2ca70] Dates
  [8bb1440f] DelimitedFiles
  [8ba89e20] Distributed
  [f43a241f] Downloads
  [b77e0a4c] InteractiveUtils
  [4af54fe1] LazyArtifacts
  [b27032c2] LibCURL
  [76f85450] LibGit2
  [8f399da3] Libdl
  [37e2e46d] LinearAlgebra
  [56ddb016] Logging
  [d6f4376e] Markdown
  [a63ad114] Mmap
  [ca575930] NetworkOptions
  [44cfe95a] Pkg
  [de0858da] Printf
  [3fa0cd96] REPL
  [9a3f8284] Random
  [ea8e919c] SHA
  [9e88b42a] Serialization
  [6462fe0b] Sockets
  [2f01184e] SparseArrays
  [10745b16] Statistics
  [fa267f1f] TOML
  [a4e569a6] Tar
  [8dfed614] Test
  [cf7118a7] UUIDs
  [4ec0a83e] Unicode
  [e66e0078] CompilerSupportLibraries_jll
  [deac9b47] LibCURL_jll
  [29816b5a] LibSSH2_jll
  [c8ffd9c3] MbedTLS_jll
  [14a3606d] MozillaCACerts_jll
  [4536629a] OpenBLAS_jll
  [83775a58] Zlib_jll
  [8e850b90] libblastrampoline_jll
  [8e850ede] nghttp2_jll
  [3f19e933] p7zip_jll
[ Info: Global dimensions: (1024, 1024, 1024)
[ Info: Repetitions:       100

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (16×16 processes)
Method: PointToPoint
Permutations: Val{true}()

Average time: 517.55314401 ms (TimerOutputs) over 100 repetitions
              517.56467286 ms (MPI_Wtime) ± 12.09513586 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            52.7s / 98.2%           49.5MiB / 15.3%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    26.0s  50.2%   260ms   3.52MiB  46.5%  36.1KiB
   transpose!             200    19.1s  36.8%  95.3ms   2.27MiB  30.0%  11.6KiB
     unpack data          200    14.0s  27.0%  70.0ms   1.78MiB  23.5%  9.13KiB
       wait receive     3.00k    9.05s  17.5%  3.02ms    375KiB  4.83%     128B
       copy_permuted!   3.20k    4.87s  9.42%  1.52ms   1.42MiB  18.7%     464B
     pack data            200    5.06s  9.77%  25.3ms    382KiB  4.92%  1.91KiB
       copy_range!      3.20k    3.84s  7.41%  1.20ms     0.00B  0.00%    0.00B
   FFT                    300    6.39s  12.4%  21.3ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   76.7ms  0.15%   383μs    103KiB  1.33%     528B
 PencilFFTs mul!          100    25.8s  49.8%   258ms   4.06MiB  53.5%  41.6KiB
   transpose!             200    20.1s  38.8%   100ms   2.81MiB  37.1%  14.4KiB
     unpack data          200    15.9s  30.8%  79.7ms   2.32MiB  30.6%  11.9KiB
       wait receive     3.00k    11.2s  21.6%  3.73ms    375KiB  4.83%     128B
       copy_permuted!   3.20k    4.71s  9.09%  1.47ms   1.95MiB  25.8%     640B
     pack data            200    4.15s  8.03%  20.8ms    382KiB  4.92%  1.91KiB
       copy_range!      3.20k    3.22s  6.22%  1.01ms     0.00B  0.00%    0.00B
   FFT                    300    5.62s  10.9%  18.7ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   59.2ms  0.11%   296μs    103KiB  1.33%     528B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 56.230300 ms
  Average FFT        = 18.719808 ms
  Average (un)pack   = 39.613231 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 45.633767 ms
  Average FFT        = 21.314203 ms
  Average (un)pack   = 43.551170 ms
  Average others     = 0.000000 ms

Total from timers: 490.1590 ms/iteration (27.3942 ms / 5.29% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (16×16 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 614.29618598 ms (TimerOutputs) over 100 repetitions
              614.31658727 ms (MPI_Wtime) ± 17.21196344 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            61.4s / 100%            6.00MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    30.9s  50.3%   309ms   2.73MiB  45.5%  27.9KiB
   transpose!             200    23.2s  37.7%   116ms   1.58MiB  26.4%  8.10KiB
     pack data            200    19.0s  30.9%  94.8ms    101KiB  1.65%     520B
       MPI.Alltoallv!     200    13.7s  22.3%  68.6ms   50.0KiB  0.81%     256B
       copy_range!      3.20k    5.19s  8.44%  1.62ms     0.00B  0.00%    0.00B
     unpack data          200    4.21s  6.85%  21.0ms   1.42MiB  23.6%  7.25KiB
       copy_permuted!   3.20k    4.17s  6.79%  1.30ms   1.42MiB  23.6%     464B
   FFT                    300    6.93s  11.3%  23.1ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    218μs  0.00%  1.09μs     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    30.5s  49.7%   305ms   3.27MiB  54.5%  33.4KiB
   transpose!             200    24.3s  39.5%   121ms   2.12MiB  35.3%  10.8KiB
     pack data            200    20.1s  32.7%   100ms    101KiB  1.65%     520B
       MPI.Alltoallv!     200    16.1s  26.2%  80.4ms   50.0KiB  0.81%     256B
       copy_range!      3.20k    3.94s  6.41%  1.23ms     0.00B  0.00%    0.00B
     unpack data          200    4.20s  6.84%  21.0ms   1.95MiB  32.6%  10.0KiB
       copy_permuted!   3.20k    4.18s  6.80%  1.31ms   1.95MiB  32.6%     640B
   FFT                    300    6.24s  10.2%  20.8ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    117μs  0.00%   586ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 80.400401 ms
  Average FFT        = 20.802597 ms
  Average (un)pack   = 40.569193 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 68.577646 ms
  Average FFT        = 23.101474 ms
  Average (un)pack   = 46.783623 ms
  Average others     = 0.000000 ms

Total from timers: 604.3739 ms/iteration (9.9222 ms / 1.62% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (16×16 processes)
Method: PointToPoint
Permutations: Val{false}()

Average time: 783.59227582 ms (TimerOutputs) over 100 repetitions
              783.60651210 ms (MPI_Wtime) ± 15.68424939 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            78.4s / 100%            8.39MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    40.2s  51.3%   402ms   4.07MiB  48.5%  41.7KiB
   FFT                    300    21.8s  27.8%  72.7ms     0.00B  0.00%    0.00B
   transpose!             200    18.3s  23.4%  91.6ms   2.27MiB  27.1%  11.6KiB
     unpack data          200    14.3s  18.3%  71.6ms   1.78MiB  21.3%  9.13KiB
       wait receive     3.00k    12.4s  15.8%  4.14ms    375KiB  4.36%     128B
       copy_permuted!   3.20k    1.88s  2.39%   586μs   1.42MiB  16.9%     464B
     pack data            200    3.99s  5.09%  20.0ms    382KiB  4.45%  1.91KiB
       copy_range!      3.20k    3.25s  4.14%  1.01ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   29.0ms  0.04%   145μs    103KiB  1.20%     528B
 PencilFFTs ldiv!         100    38.2s  48.7%   382ms   4.32MiB  51.5%  44.3KiB
   FFT                    300    19.3s  24.6%  64.3ms     0.00B  0.00%    0.00B
   transpose!             200    18.3s  23.3%  91.5ms   2.27MiB  27.1%  11.6KiB
     unpack data          200    15.5s  19.8%  77.5ms   1.78MiB  21.3%  9.13KiB
       wait receive     3.00k    12.7s  16.2%  4.23ms    375KiB  4.36%     128B
       copy_permuted!   3.20k    2.78s  3.54%   867μs   1.42MiB  16.9%     464B
     pack data            200    2.79s  3.55%  13.9ms    382KiB  4.45%  1.91KiB
       copy_range!      3.20k    2.06s  2.63%   644μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   9.71ms  0.01%  48.6μs    103KiB  1.20%     528B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 62.205120 ms
  Average FFT        = 72.733480 ms
  Average (un)pack   = 25.620000 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 63.424820 ms
  Average FFT        = 64.297879 ms
  Average (un)pack   = 24.182893 ms
  Average others     = 0.000000 ms

Total from timers: 761.9597 ms/iteration (21.6325 ms / 2.76% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (16×16 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 848.03594213 ms (TimerOutputs) over 100 repetitions
              848.05663428 ms (MPI_Wtime) ± 17.67918178 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            84.8s / 100%            6.81MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    43.1s  50.8%   431ms   3.27MiB  48.1%  33.5KiB
   transpose!             200    22.3s  26.3%   112ms   1.58MiB  23.2%  8.10KiB
     pack data            200    19.2s  22.6%  95.8ms    101KiB  1.46%     520B
       MPI.Alltoallv!     200    15.8s  18.6%  79.0ms   50.0KiB  0.72%     256B
       copy_range!      3.20k    3.31s  3.90%  1.03ms     0.00B  0.00%    0.00B
     unpack data          200    3.16s  3.73%  15.8ms   1.42MiB  20.8%  7.25KiB
       copy_permuted!   3.20k    3.12s  3.68%   974μs   1.42MiB  20.8%     464B
   FFT                    300    20.8s  24.5%  69.2ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    132μs  0.00%   661ns     0.00B  0.00%    0.00B
 PencilFFTs ldiv!         100    41.7s  49.2%   417ms   3.53MiB  51.9%  36.1KiB
   transpose!             200    20.8s  24.5%   104ms   1.58MiB  23.2%  8.10KiB
     pack data            200    17.1s  20.2%  85.5ms    101KiB  1.46%     520B
       MPI.Alltoallv!     200    14.7s  17.3%  73.3ms   50.0KiB  0.72%     256B
       copy_range!      3.20k    2.41s  2.84%   753μs     0.00B  0.00%    0.00B
     unpack data          200    3.65s  4.31%  18.3ms   1.42MiB  20.8%  7.25KiB
       copy_permuted!   3.20k    3.61s  4.26%  1.13ms   1.42MiB  20.8%     464B
   FFT                    300    20.1s  23.7%  67.1ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    199μs  0.00%   996ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 79.020233 ms
  Average FFT        = 69.214511 ms
  Average (un)pack   = 32.118288 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 73.256679 ms
  Average FFT        = 67.061697 ms
  Average (un)pack   = 30.092682 ms
  Average others     = 0.000000 ms

Total from timers: 837.8044 ms/iteration (10.2316 ms / 1.21% missing)

********************************************************************************
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_PI.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_PA.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_NI.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_NA.dat
Number of processes:   256
Dimensions:            1024×1024×1024
Number of repetitions: 100
Output file:           results/IntelMPI.2019.9/N1024/P3DFFT2.dat

Dimensions: (1024, 1024, 1024)
Processes:  (16, 16)
 Using stride-1 layout
 Using loop block sizes            1          32           1           1
 Running on            1 threads
L2 error: 2.01313e-23
Average time over 100 iterations: 623.159 ± 3.26876 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  31.608      MPI_Alltoallv (X -> Y)
 ( 2)  112.37      MPI_Alltoallv (Y -> Z)
 ( 3)  115.91      MPI_Alltoallv (Y <- Z)
 ( 4)  36.324      MPI_Alltoallv (X <- Y)

 ( 5)  22.108      FFT r2c X
 ( 6)  47.023      pack + unpack data (X -> Y)
 ( 7)  15.896      FFT c2c Y
 ( 8)  68.786      pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  68.114      pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  17.239      iFFT c2c Y
 (11)  47.872      pack + unpack data (X <- Y)
 (12)  31.797      iFFT c2r X

 (13)  0.090426    normalise

TOTAL  615.13347

Forward transforms
  Average Alltoallv = 71.988566
  Average FFT       = 17.966523
  Average (un)pack  = 49.95649

Backward transforms
  Average Alltoallv = 76.116058
  Average FFT       = 22.091394
  Average (un)pack  = 49.373534
  Average normalise = 0.090425723

Total from timers: 615.13347 ms/iteration (8.0254198 ms / 1.288% missing)
