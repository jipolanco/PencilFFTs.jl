      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Project.toml`
  [6e4b80f9] BenchmarkTools v1.1.4
  [7a1cc6ca] FFTW v1.4.3
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [bac558e1] OrderedCollections v1.4.1
  [4a48f351] PencilFFTs v0.12.4 `..`
  [d330b81b] PyPlot v2.9.0
  [a759f4b9] TimerOutputs v0.5.12
  [8bb1440f] DelimitedFiles
  [44cfe95a] Pkg
Julia Version 1.7.0-beta3.0
Commit e76c9dad42 (2021-07-07 08:12 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-12.0.0 (ORCJIT, cascadelake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
  JULIA_HDF5_LIBRARY_PATH = /gpfs7kro/gpfslocalsup/spack_soft/hdf5/1.12.0/intel-19.1.3-kxaus62d34qqpq7e4x2xgoj4d7qjcns5/lib
MPI: (MPI.IntelMPI, v"2019.9.0")
      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Manifest.toml`
  [621f4979] AbstractFFTs v1.0.1
  [79e6a3ab] Adapt v3.3.1
  [4fba245c] ArrayInterface v3.1.25
  [6e4b80f9] BenchmarkTools v1.1.4
  [3da002f7] ColorTypes v0.11.0
  [5ae59095] Colors v0.12.8
  [8f4d0f93] Conda v1.5.2
  [ffbed154] DocStringExtensions v0.8.5
  [e2ba6199] ExprTools v0.1.6
  [7a1cc6ca] FFTW v1.4.3
  [53c48c17] FixedPointNumbers v0.8.4
  [615f187c] IfElse v0.1.0
  [692b3bcd] JLLWrappers v1.3.0
  [682c06a0] JSON v0.21.2
  [0f8b85d8] JSON3 v1.9.1
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [1914dd2f] MacroTools v0.5.7
  [6fe1bfb0] OffsetArrays v1.10.5
  [bac558e1] OrderedCollections v1.4.1
  [69de0a69] Parsers v2.0.3
  [0e08944d] PencilArrays v0.10.0
  [4a48f351] PencilFFTs v0.12.4 `..`
  [21216c6a] Preferences v1.2.2
  [438e738f] PyCall v1.92.3
  [d330b81b] PyPlot v2.9.0
  [189a3867] Reexport v1.2.2
  [ae029012] Requires v1.1.3
  [aedffcd0] Static v0.3.0
  [90137ffa] StaticArrays v1.2.12
  [15972242] StaticPermutations v0.3.0
  [5e0ebb24] Strided v1.1.2
  [856f2bd8] StructTypes v1.7.2
  [a759f4b9] TimerOutputs v0.5.12
  [9d95972d] TupleTools v1.3.0
  [81def892] VersionParsing v1.2.0
  [f5851436] FFTW_jll v3.3.9+8
  [1d5cc7b8] IntelOpenMP_jll v2018.0.3+2
  [856f044c] MKL_jll v2021.1.1+1
  [7cb0a576] MPICH_jll v3.4.2+0
  [9237b28f] MicrosoftMPI_jll v10.1.3+0
  [fe0851c0] OpenMPI_jll v4.1.1+2
  [0dad84c5] ArgTools
  [56f22d72] Artifacts
  [2a0f44e3] Base64
  [ade2ca70] Dates
  [8bb1440f] DelimitedFiles
  [8ba89e20] Distributed
  [f43a241f] Downloads
  [b77e0a4c] InteractiveUtils
  [4af54fe1] LazyArtifacts
  [b27032c2] LibCURL
  [76f85450] LibGit2
  [8f399da3] Libdl
  [37e2e46d] LinearAlgebra
  [56ddb016] Logging
  [d6f4376e] Markdown
  [a63ad114] Mmap
  [ca575930] NetworkOptions
  [44cfe95a] Pkg
  [de0858da] Printf
  [3fa0cd96] REPL
  [9a3f8284] Random
  [ea8e919c] SHA
  [9e88b42a] Serialization
  [6462fe0b] Sockets
  [2f01184e] SparseArrays
  [10745b16] Statistics
  [fa267f1f] TOML
  [a4e569a6] Tar
  [8dfed614] Test
  [cf7118a7] UUIDs
  [4ec0a83e] Unicode
  [e66e0078] CompilerSupportLibraries_jll
  [deac9b47] LibCURL_jll
  [29816b5a] LibSSH2_jll
  [c8ffd9c3] MbedTLS_jll
  [14a3606d] MozillaCACerts_jll
  [4536629a] OpenBLAS_jll
  [83775a58] Zlib_jll
  [8e850b90] libblastrampoline_jll
  [8e850ede] nghttp2_jll
  [3f19e933] p7zip_jll
[ Info: Global dimensions: (1024, 1024, 1024)
[ Info: Repetitions:       100

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (32×16 processes)
Method: PointToPoint
Permutations: Val{true}()

Average time: 290.73246868 ms (TimerOutputs) over 100 repetitions
              290.74659783 ms (MPI_Wtime) ± 10.95129957 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            30.1s / 96.6%           52.7MiB / 20.1%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    15.5s  53.2%   155ms   5.69MiB  53.8%  58.3KiB
   transpose!             200    12.9s  44.4%  64.6ms   4.41MiB  41.7%  22.6KiB
     unpack data          200    11.2s  38.5%  56.0ms   3.68MiB  34.8%  18.9KiB
       wait receive     4.60k    9.90s  34.0%  2.15ms    769KiB  7.10%     171B
       copy_permuted!   4.80k    1.28s  4.40%   267μs   2.93MiB  27.7%     640B
     pack data            200    1.72s  5.92%  8.61ms    582KiB  5.37%  2.91KiB
       copy_range!      4.80k    1.36s  4.69%   284μs     0.00B  0.00%    0.00B
   FFT                    300    2.47s  8.48%  8.22ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   84.0ms  0.29%   420μs    142KiB  1.31%     728B
 PencilFFTs ldiv!         100    13.6s  46.8%   136ms   4.89MiB  46.2%  50.0KiB
   transpose!             200    10.3s  35.3%  51.3ms   3.60MiB  34.0%  18.4KiB
     unpack data          200    7.68s  26.4%  38.4ms   2.88MiB  27.2%  14.7KiB
       wait receive     4.60k    5.63s  19.4%  1.22ms    769KiB  7.10%     171B
       copy_permuted!   4.80k    2.00s  6.89%   417μs   2.12MiB  20.1%     464B
     pack data            200    2.58s  8.87%  12.9ms    582KiB  5.37%  2.91KiB
       copy_range!      4.80k    2.11s  7.26%   440μs     0.00B  0.00%    0.00B
   FFT                    300    3.08s  10.6%  10.3ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   23.3ms  0.08%   116μs    142KiB  1.31%     728B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 49.896591 ms
  Average FFT        = 8.218403 ms
  Average (un)pack   = 13.220793 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 28.290788 ms
  Average FFT        = 10.259182 ms
  Average (un)pack   = 20.560966 ms
  Average others     = 0.000000 ms

Total from timers: 279.3710 ms/iteration (11.3614 ms / 3.91% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (32×16 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 332.46034584 ms (TimerOutputs) over 100 repetitions
              332.48053506 ms (MPI_Wtime) ± 8.46054955 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            33.2s / 100%            7.76MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    17.0s  51.2%   170ms   3.47MiB  44.8%  35.6KiB
   transpose!             200    13.2s  39.8%  66.2ms   2.33MiB  30.0%  11.9KiB
     pack data            200    11.1s  33.5%  55.6ms    126KiB  1.59%     648B
       MPI.Alltoallv!     200    8.60s  25.9%  43.0ms   62.5KiB  0.79%     320B
       copy_range!      4.80k    2.49s  7.49%   518μs     0.00B  0.00%    0.00B
     unpack data          200    2.11s  6.36%  10.6ms   2.12MiB  27.4%  10.9KiB
       copy_permuted!   4.80k    2.08s  6.27%   434μs   2.12MiB  27.4%     464B
   FFT                    300    3.42s  10.3%  11.4ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    179μs  0.00%   895ns     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    16.2s  48.8%   162ms   4.28MiB  55.2%  43.8KiB
   transpose!             200    13.2s  39.7%  66.0ms   3.13MiB  40.4%  16.0KiB
     pack data            200    11.2s  33.6%  55.8ms    126KiB  1.59%     648B
       MPI.Alltoallv!     200    9.40s  28.3%  47.0ms   62.5KiB  0.79%     320B
       copy_range!      4.80k    1.74s  5.23%   362μs     0.00B  0.00%    0.00B
     unpack data          200    2.04s  6.13%  10.2ms   2.93MiB  37.8%  15.0KiB
       copy_permuted!   4.80k    2.02s  6.08%   421μs   2.93MiB  37.8%     640B
   FFT                    300    3.01s  9.05%  10.0ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    188μs  0.00%   941ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 46.990868 ms
  Average FFT        = 10.027012 ms
  Average (un)pack   = 18.790802 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 43.014389 ms
  Average FFT        = 11.412474 ms
  Average (un)pack   = 22.866889 ms
  Average others     = 0.000000 ms

Total from timers: 327.6444 ms/iteration (4.8160 ms / 1.45% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (32×16 processes)
Method: PointToPoint
Permutations: Val{false}()

Average time: 334.47781787 ms (TimerOutputs) over 100 repetitions
              334.48698775 ms (MPI_Wtime) ± 15.73114515 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            33.4s / 100%            11.1MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    18.3s  54.9%   183ms   5.43MiB  48.9%  55.6KiB
   transpose!             200    12.5s  37.3%  62.4ms   3.60MiB  32.4%  18.4KiB
     unpack data          200    10.9s  32.6%  54.5ms   2.88MiB  25.9%  14.7KiB
       wait receive     4.60k    10.1s  30.3%  2.20ms    769KiB  6.75%     171B
       copy_permuted!   4.80k    736ms  2.20%   153μs   2.12MiB  19.1%     464B
     pack data            200    1.57s  4.71%  7.87ms    582KiB  5.11%  2.91KiB
       copy_range!      4.80k    1.18s  3.53%   246μs     0.00B  0.00%    0.00B
   FFT                    300    5.85s  17.5%  19.5ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   6.42ms  0.02%  32.1μs    142KiB  1.25%     728B
 PencilFFTs ldiv!         100    15.1s  45.1%   151ms   5.69MiB  51.1%  58.2KiB
   transpose!             200    8.13s  24.3%  40.6ms   3.60MiB  32.4%  18.4KiB
     unpack data          200    6.42s  19.2%  32.1ms   2.88MiB  25.9%  14.7KiB
       wait receive     4.60k    4.75s  14.2%  1.03ms    769KiB  6.75%     171B
       copy_permuted!   4.80k    1.62s  4.85%   338μs   2.12MiB  19.1%     464B
     pack data            200    1.71s  5.10%  8.53ms    582KiB  5.11%  2.91KiB
       copy_range!      4.80k    1.16s  3.46%   241μs     0.00B  0.00%    0.00B
   FFT                    300    6.72s  20.1%  22.4ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   40.5ms  0.12%   202μs    142KiB  1.25%     728B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 50.741265 ms
  Average FFT        = 19.503509 ms
  Average (un)pack   = 9.590295 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 23.971977 ms
  Average FFT        = 22.386498 ms
  Average (un)pack   = 13.896664 ms
  Average others     = 0.000000 ms

Total from timers: 322.0704 ms/iteration (12.4074 ms / 3.71% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (32×16 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 381.97808615 ms (TimerOutputs) over 100 repetitions
              381.99564384 ms (MPI_Wtime) ± 9.47813819 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            38.2s / 100%            8.30MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    19.2s  50.4%   192ms   4.28MiB  51.5%  43.8KiB
   transpose!             200    13.0s  34.0%  64.9ms   2.33MiB  28.1%  11.9KiB
     pack data            200    11.1s  29.0%  55.3ms    126KiB  1.49%     648B
       MPI.Alltoallv!     200    9.65s  25.3%  48.2ms   62.5KiB  0.74%     320B
       copy_range!      4.80k    1.38s  3.62%   288μs     0.00B  0.00%    0.00B
     unpack data          200    1.90s  4.99%  9.52ms   2.12MiB  25.6%  10.9KiB
       copy_permuted!   4.80k    1.87s  4.89%   389μs   2.12MiB  25.6%     464B
   FFT                    300    5.91s  15.5%  19.7ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    220μs  0.00%  1.10μs     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    19.0s  49.6%   190ms   4.02MiB  48.5%  41.2KiB
   transpose!             200    12.6s  32.9%  62.8ms   2.33MiB  28.1%  11.9KiB
     pack data            200    11.0s  28.7%  54.8ms    126KiB  1.49%     648B
       MPI.Alltoallv!     200    9.48s  24.8%  47.4ms   62.5KiB  0.74%     320B
       copy_range!      4.80k    1.44s  3.78%   301μs     0.00B  0.00%    0.00B
     unpack data          200    1.59s  4.17%  7.97ms   2.12MiB  25.6%  10.9KiB
       copy_permuted!   4.80k    1.56s  4.07%   324μs   2.12MiB  25.6%     464B
   FFT                    300    6.39s  16.7%  21.3ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    138μs  0.00%   690ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 47.405443 ms
  Average FFT        = 21.314118 ms
  Average (un)pack   = 14.999652 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 48.250261 ms
  Average FFT        = 19.709541 ms
  Average (un)pack   = 16.269072 ms
  Average others     = 0.000000 ms

Total from timers: 376.9198 ms/iteration (5.0583 ms / 1.32% missing)

********************************************************************************
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_PI.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_PA.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_NI.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_NA.dat
Number of processes:   512
Dimensions:            1024×1024×1024
Number of repetitions: 100
Output file:           results/IntelMPI.2019.9/N1024/P3DFFT2.dat

Dimensions: (1024, 1024, 1024)
Processes:  (16, 32)
 Using stride-1 layout
 Using loop block sizes            1          32           1           1
 Running on            1 threads
L2 error: 2.01313e-23
Average time over 100 iterations: 333.197 ± 2.08703 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  14.887      MPI_Alltoallv (X -> Y)
 ( 2)  72.69       MPI_Alltoallv (Y -> Z)
 ( 3)  64.011      MPI_Alltoallv (Y <- Z)
 ( 4)  25.105      MPI_Alltoallv (X <- Y)

 ( 5)  11.21       FFT r2c X
 ( 6)  23.531      pack + unpack data (X -> Y)
 ( 7)  7.9765      FFT c2c Y
 ( 8)  32.765      pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  31.196      pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  8.29        iFFT c2c Y
 (11)  23.24       pack + unpack data (X <- Y)
 (12)  15.069      iFFT c2r X

 (13)  0.035508    normalise

TOTAL  330.00573

Forward transforms
  Average Alltoallv = 43.788229
  Average FFT       = 9.0543589
  Average (un)pack  = 24.159763

Backward transforms
  Average Alltoallv = 44.558332
  Average FFT       = 10.549668
  Average (un)pack  = 23.072748
  Average normalise = 0.03550826

Total from timers: 330.00573 ms/iteration (3.1914919 ms / 0.9578% missing)
