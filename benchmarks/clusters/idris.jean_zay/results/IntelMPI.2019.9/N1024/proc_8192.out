      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Project.toml`
  [6e4b80f9] BenchmarkTools v1.1.4
  [7a1cc6ca] FFTW v1.4.3
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [bac558e1] OrderedCollections v1.4.1
  [4a48f351] PencilFFTs v0.12.4 `..`
  [d330b81b] PyPlot v2.9.0
  [a759f4b9] TimerOutputs v0.5.12
  [8bb1440f] DelimitedFiles
  [44cfe95a] Pkg
Julia Version 1.7.0-beta3.0
Commit e76c9dad42 (2021-07-07 08:12 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-12.0.0 (ORCJIT, cascadelake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
  JULIA_HDF5_LIBRARY_PATH = /gpfs7kro/gpfslocalsup/spack_soft/hdf5/1.12.0/intel-19.1.3-kxaus62d34qqpq7e4x2xgoj4d7qjcns5/lib
MPI: (MPI.IntelMPI, v"2019.9.0")
      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Manifest.toml`
  [621f4979] AbstractFFTs v1.0.1
  [79e6a3ab] Adapt v3.3.1
  [4fba245c] ArrayInterface v3.1.25
  [6e4b80f9] BenchmarkTools v1.1.4
  [3da002f7] ColorTypes v0.11.0
  [5ae59095] Colors v0.12.8
  [8f4d0f93] Conda v1.5.2
  [ffbed154] DocStringExtensions v0.8.5
  [e2ba6199] ExprTools v0.1.6
  [7a1cc6ca] FFTW v1.4.3
  [53c48c17] FixedPointNumbers v0.8.4
  [615f187c] IfElse v0.1.0
  [692b3bcd] JLLWrappers v1.3.0
  [682c06a0] JSON v0.21.2
  [0f8b85d8] JSON3 v1.9.1
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [1914dd2f] MacroTools v0.5.7
  [6fe1bfb0] OffsetArrays v1.10.5
  [bac558e1] OrderedCollections v1.4.1
  [69de0a69] Parsers v2.0.3
  [0e08944d] PencilArrays v0.10.0
  [4a48f351] PencilFFTs v0.12.4 `..`
  [21216c6a] Preferences v1.2.2
  [438e738f] PyCall v1.92.3
  [d330b81b] PyPlot v2.9.0
  [189a3867] Reexport v1.2.2
  [ae029012] Requires v1.1.3
  [aedffcd0] Static v0.3.0
  [90137ffa] StaticArrays v1.2.12
  [15972242] StaticPermutations v0.3.0
  [5e0ebb24] Strided v1.1.2
  [856f2bd8] StructTypes v1.7.2
  [a759f4b9] TimerOutputs v0.5.12
  [9d95972d] TupleTools v1.3.0
  [81def892] VersionParsing v1.2.0
  [f5851436] FFTW_jll v3.3.9+8
  [1d5cc7b8] IntelOpenMP_jll v2018.0.3+2
  [856f044c] MKL_jll v2021.1.1+1
  [7cb0a576] MPICH_jll v3.4.2+0
  [9237b28f] MicrosoftMPI_jll v10.1.3+0
  [fe0851c0] OpenMPI_jll v4.1.1+2
  [0dad84c5] ArgTools
  [56f22d72] Artifacts
  [2a0f44e3] Base64
  [ade2ca70] Dates
  [8bb1440f] DelimitedFiles
  [8ba89e20] Distributed
  [f43a241f] Downloads
  [b77e0a4c] InteractiveUtils
  [4af54fe1] LazyArtifacts
  [b27032c2] LibCURL
  [76f85450] LibGit2
  [8f399da3] Libdl
  [37e2e46d] LinearAlgebra
  [56ddb016] Logging
  [d6f4376e] Markdown
  [a63ad114] Mmap
  [ca575930] NetworkOptions
  [44cfe95a] Pkg
  [de0858da] Printf
  [3fa0cd96] REPL
  [9a3f8284] Random
  [ea8e919c] SHA
  [9e88b42a] Serialization
  [6462fe0b] Sockets
  [2f01184e] SparseArrays
  [10745b16] Statistics
  [fa267f1f] TOML
  [a4e569a6] Tar
  [8dfed614] Test
  [cf7118a7] UUIDs
  [4ec0a83e] Unicode
  [e66e0078] CompilerSupportLibraries_jll
  [deac9b47] LibCURL_jll
  [29816b5a] LibSSH2_jll
  [c8ffd9c3] MbedTLS_jll
  [14a3606d] MozillaCACerts_jll
  [4536629a] OpenBLAS_jll
  [83775a58] Zlib_jll
  [8e850b90] libblastrampoline_jll
  [8e850ede] nghttp2_jll
  [3f19e933] p7zip_jll
[ Info: Global dimensions: (1024, 1024, 1024)
[ Info: Repetitions:       100

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (128×64 processes)
Method: PointToPoint
Permutations: Val{true}()

Average time: 40.55097104 ms (TimerOutputs) over 100 repetitions
              40.55983085 ms (MPI_Wtime) ± 6.73913288 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            5.05s / 80.3%           89.2MiB / 53.0%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    2.10s  51.7%  21.0ms   21.9MiB  46.4%   225KiB
   transpose!             200    1.88s  46.4%  9.41ms   20.3MiB  43.0%   104KiB
     unpack data          200    1.43s  35.1%  7.13ms   17.5MiB  37.0%  89.6KiB
       wait receive     19.0k    1.24s  30.6%  65.2μs   9.00MiB  19.0%     496B
       copy_permuted!   19.2k    141ms  3.47%  7.34μs   8.50MiB  18.0%     464B
     pack data            200    453ms  11.2%  2.27ms   2.33MiB  4.92%  11.9KiB
       copy_range!      19.2k    170ms  4.19%  8.84μs     0.00B  0.00%    0.00B
   FFT                    300    186ms  4.58%   619μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   8.12ms  0.20%  40.6μs    484KiB  1.00%  2.42KiB
 PencilFFTs mul!          100    1.96s  48.3%  19.6ms   25.3MiB  53.6%   260KiB
   transpose!             200    1.76s  43.3%  8.79ms   23.7MiB  50.2%   121KiB
     unpack data          200    1.51s  37.3%  7.55ms   20.9MiB  44.2%   107KiB
       wait receive     19.0k    1.33s  32.7%  69.8μs   9.00MiB  19.0%     496B
       copy_permuted!   19.2k    142ms  3.50%  7.40μs   11.9MiB  25.2%     651B
     pack data            200    243ms  6.00%  1.22ms   2.33MiB  4.92%  11.9KiB
       copy_range!      19.2k   98.0ms  2.42%  5.10μs     0.00B  0.00%    0.00B
   FFT                    300    156ms  3.85%   520μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   37.1ms  0.92%   186μs    484KiB  1.00%  2.42KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 6.817406 ms
  Average FFT        = 0.520251 ms
  Average (un)pack   = 1.200052 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 6.238608 ms
  Average FFT        = 0.619284 ms
  Average (un)pack   = 1.552842 ms
  Average others     = 0.000000 ms

Total from timers: 35.0364 ms/iteration (5.5145 ms / 13.60% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (128×64 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 55.03634776 ms (TimerOutputs) over 100 repetitions
              55.04284970 ms (MPI_Wtime) ± 4.12628603 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            5.50s / 100%            23.6MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    3.00s  54.6%  30.0ms   13.4MiB  56.8%   137KiB
   transpose!             200    2.85s  51.9%  14.3ms   12.3MiB  52.0%  62.8KiB
     pack data            200    2.68s  48.8%  13.4ms    358KiB  1.48%  1.79KiB
       MPI.Alltoallv!     200    2.61s  47.4%  13.0ms    178KiB  0.74%     912B
       copy_range!      19.2k   52.0ms  0.95%  2.71μs     0.00B  0.00%    0.00B
     unpack data          200    168ms  3.05%   840μs   11.7MiB  49.7%  60.0KiB
       copy_permuted!   19.2k    150ms  2.72%  7.79μs   11.7MiB  49.7%     640B
   FFT                    300    143ms  2.60%   476μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   97.4μs  0.00%   487ns     0.00B  0.00%    0.00B
 PencilFFTs ldiv!         100    2.50s  45.4%  25.0ms   10.2MiB  43.2%   104KiB
   transpose!             200    2.30s  41.8%  11.5ms   9.03MiB  38.3%  46.3KiB
     pack data            200    2.15s  39.1%  10.8ms    358KiB  1.48%  1.79KiB
       MPI.Alltoallv!     200    2.03s  36.9%  10.2ms    178KiB  0.74%     912B
       copy_range!      19.2k   91.7ms  1.67%  4.78μs     0.00B  0.00%    0.00B
     unpack data          200    146ms  2.65%   730μs   8.50MiB  36.0%  43.5KiB
       copy_permuted!   19.2k    127ms  2.30%  6.60μs   8.50MiB  36.0%     464B
   FFT                    300    180ms  3.27%   599μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   90.2μs  0.00%   451ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 13.039530 ms
  Average FFT        = 0.476164 ms
  Average (un)pack   = 1.007618 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 10.165232 ms
  Average FFT        = 0.599367 ms
  Average (un)pack   = 1.092276 ms
  Average others     = 0.000000 ms

Total from timers: 53.8359 ms/iteration (1.2004 ms / 2.18% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (128×64 processes)
Method: PointToPoint
Permutations: Val{false}()

Average time: 44.86680705 ms (TimerOutputs) over 100 repetitions
              44.87288132 ms (MPI_Wtime) ± 9.93770322 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            4.49s / 100%            45.2MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    2.30s  51.3%  23.0ms   22.7MiB  50.3%   233KiB
   transpose!             200    2.01s  44.8%  10.1ms   20.3MiB  44.9%   104KiB
     unpack data          200    1.64s  36.5%  8.18ms   17.5MiB  38.7%  89.6KiB
       wait receive     19.0k    1.43s  31.8%  75.0μs   9.00MiB  19.9%     496B
       copy_permuted!   19.2k    166ms  3.69%  8.62μs   8.50MiB  18.8%     464B
     pack data            200    372ms  8.28%  1.86ms   2.33MiB  5.15%  11.9KiB
       copy_range!      19.2k    134ms  2.98%  6.97μs     0.00B  0.00%    0.00B
   FFT                    300    265ms  5.90%   883μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   6.24ms  0.14%  31.2μs    484KiB  1.05%  2.42KiB
 PencilFFTs mul!          100    2.18s  48.7%  21.8ms   22.5MiB  49.7%   230KiB
   transpose!             200    1.95s  43.4%  9.74ms   20.3MiB  44.9%   104KiB
     unpack data          200    1.72s  38.3%  8.60ms   17.5MiB  38.7%  89.6KiB
       wait receive     19.0k    1.61s  35.8%  84.6μs   9.00MiB  19.9%     496B
       copy_permuted!   19.2k   72.2ms  1.61%  3.76μs   8.50MiB  18.8%     464B
     pack data            200    226ms  5.03%  1.13ms   2.33MiB  5.15%  11.9KiB
       copy_range!      19.2k   95.0ms  2.12%  4.95μs     0.00B  0.00%    0.00B
   FFT                    300    224ms  5.00%   747μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   4.33ms  0.10%  21.6μs    484KiB  1.05%  2.42KiB
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 8.054887 ms
  Average FFT        = 0.747097 ms
  Average (un)pack   = 0.835974 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 7.158923 ms
  Average FFT        = 0.882583 ms
  Average (un)pack   = 1.496763 ms
  Average others     = 0.000000 ms

Total from timers: 39.9821 ms/iteration (4.8847 ms / 10.89% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (1024, 1024, 1024) -> (513, 1024, 1024)
MPI topology: 2D decomposition (128×64 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 54.28895876 ms (TimerOutputs) over 100 repetitions
              54.29475259 ms (MPI_Wtime) ± 2.86654933 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:            5.43s / 100%            21.7MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    3.02s  55.6%  30.2ms   10.7MiB  49.4%   110KiB
   transpose!             200    2.80s  51.5%  14.0ms   9.03MiB  41.6%  46.3KiB
     pack data            200    2.67s  49.2%  13.4ms    358KiB  1.61%  1.79KiB
       MPI.Alltoallv!     200    2.59s  47.6%  12.9ms    178KiB  0.80%     912B
       copy_range!      19.2k   60.8ms  1.12%  3.16μs     0.00B  0.00%    0.00B
     unpack data          200    123ms  2.26%   614μs   8.50MiB  39.1%  43.5KiB
       copy_permuted!   19.2k    104ms  1.91%  5.39μs   8.50MiB  39.1%     464B
   FFT                    300    215ms  3.96%   716μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   86.8μs  0.00%   434ns     0.00B  0.00%    0.00B
 PencilFFTs ldiv!         100    2.41s  44.4%  24.1ms   11.0MiB  50.6%   112KiB
   transpose!             200    2.15s  39.7%  10.8ms   9.03MiB  41.6%  46.3KiB
     pack data            200    2.02s  37.2%  10.1ms    358KiB  1.61%  1.79KiB
       MPI.Alltoallv!     200    1.92s  35.3%  9.59ms    178KiB  0.80%     912B
       copy_range!      19.2k   73.3ms  1.35%  3.82μs     0.00B  0.00%    0.00B
     unpack data          200    134ms  2.46%   668μs   8.50MiB  39.1%  43.5KiB
       copy_permuted!   19.2k    114ms  2.11%  5.96μs   8.50MiB  39.1%     464B
   FFT                    300    237ms  4.36%   789μs     0.00B  0.00%    0.00B
   MPI.Waitall!           200   94.1μs  0.00%   471ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 12.933075 ms
  Average FFT        = 0.716399 ms
  Average (un)pack   = 0.821430 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 9.591551 ms
  Average FFT        = 0.789033 ms
  Average (un)pack   = 0.938399 ms
  Average others     = 0.000000 ms

Total from timers: 53.0852 ms/iteration (1.2038 ms / 2.22% missing)

********************************************************************************
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_PI.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_PA.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_NI.dat
[ Info: Writing to results/IntelMPI.2019.9/N1024/PencilFFTs_NA.dat
Number of processes:   8192
Dimensions:            1024×1024×1024
Number of repetitions: 100
Output file:           results/IntelMPI.2019.9/N1024/P3DFFT2.dat

Dimensions: (1024, 1024, 1024)
Processes:  (64, 128)
 Using stride-1 layout
 Using loop block sizes            1         128           1           1
 Running on            1 threads
L2 error: 2.01313e-23
Average time over 100 iterations: 52.8223 ± 1.05768 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  3.5623      MPI_Alltoallv (X -> Y)
 ( 2)  18.714      MPI_Alltoallv (Y -> Z)
 ( 3)  12.236      MPI_Alltoallv (Y <- Z)
 ( 4)  10.528      MPI_Alltoallv (X <- Y)

 ( 5)  0.63931     FFT r2c X
 ( 6)  0.93298     pack + unpack data (X -> Y)
 ( 7)  0.43145     FFT c2c Y
 ( 8)  1.5736      pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  1.9867      pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  0.44954     iFFT c2c Y
 (11)  0.93518     pack + unpack data (X <- Y)
 (12)  0.71395     iFFT c2r X

 (13)  0.0011695   normalise

TOTAL  52.703921

Forward transforms
  Average Alltoallv = 11.13834
  Average FFT       = 0.50073757
  Average (un)pack  = 1.0375454

Backward transforms
  Average Alltoallv = 11.381702
  Average FFT       = 0.53767757
  Average (un)pack  = 1.236166
  Average normalise = 0.0011694606

Total from timers: 52.703921 ms/iteration (0.11833149 ms / 0.224% missing)
