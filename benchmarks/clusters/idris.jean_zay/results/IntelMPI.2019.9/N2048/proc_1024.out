      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Project.toml`
  [6e4b80f9] BenchmarkTools v1.1.4
  [7a1cc6ca] FFTW v1.4.3
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [bac558e1] OrderedCollections v1.4.1
  [4a48f351] PencilFFTs v0.12.4 `..`
  [d330b81b] PyPlot v2.9.0
  [a759f4b9] TimerOutputs v0.5.12
  [8bb1440f] DelimitedFiles
  [44cfe95a] Pkg
Julia Version 1.7.0-beta3.0
Commit e76c9dad42 (2021-07-07 08:12 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-12.0.0 (ORCJIT, cascadelake)
Environment:
  JULIA_DEPOT_PATH = /gpfswork/rech/rhl/uxs76mg/home/julia-depot
  JULIA_MPI_BINARY = system
  JULIA_HDF5_LIBRARY_PATH = /gpfs7kro/gpfslocalsup/spack_soft/hdf5/1.12.0/intel-19.1.3-kxaus62d34qqpq7e4x2xgoj4d7qjcns5/lib
MPI: (MPI.IntelMPI, v"2019.9.0")
      Status `/gpfsdswork/projects/rech/rhl/uxs76mg/pencils/PencilFFTs/benchmarks/Manifest.toml`
  [621f4979] AbstractFFTs v1.0.1
  [79e6a3ab] Adapt v3.3.1
  [4fba245c] ArrayInterface v3.1.25
  [6e4b80f9] BenchmarkTools v1.1.4
  [3da002f7] ColorTypes v0.11.0
  [5ae59095] Colors v0.12.8
  [8f4d0f93] Conda v1.5.2
  [ffbed154] DocStringExtensions v0.8.5
  [e2ba6199] ExprTools v0.1.6
  [7a1cc6ca] FFTW v1.4.3
  [53c48c17] FixedPointNumbers v0.8.4
  [615f187c] IfElse v0.1.0
  [692b3bcd] JLLWrappers v1.3.0
  [682c06a0] JSON v0.21.2
  [0f8b85d8] JSON3 v1.9.1
  [b964fa9f] LaTeXStrings v1.2.1
  [da04e1cc] MPI v0.19.0
  [1914dd2f] MacroTools v0.5.7
  [6fe1bfb0] OffsetArrays v1.10.5
  [bac558e1] OrderedCollections v1.4.1
  [69de0a69] Parsers v2.0.3
  [0e08944d] PencilArrays v0.10.0
  [4a48f351] PencilFFTs v0.12.4 `..`
  [21216c6a] Preferences v1.2.2
  [438e738f] PyCall v1.92.3
  [d330b81b] PyPlot v2.9.0
  [189a3867] Reexport v1.2.2
  [ae029012] Requires v1.1.3
  [aedffcd0] Static v0.3.0
  [90137ffa] StaticArrays v1.2.12
  [15972242] StaticPermutations v0.3.0
  [5e0ebb24] Strided v1.1.2
  [856f2bd8] StructTypes v1.7.2
  [a759f4b9] TimerOutputs v0.5.12
  [9d95972d] TupleTools v1.3.0
  [81def892] VersionParsing v1.2.0
  [f5851436] FFTW_jll v3.3.9+8
  [1d5cc7b8] IntelOpenMP_jll v2018.0.3+2
  [856f044c] MKL_jll v2021.1.1+1
  [7cb0a576] MPICH_jll v3.4.2+0
  [9237b28f] MicrosoftMPI_jll v10.1.3+0
  [fe0851c0] OpenMPI_jll v4.1.1+2
  [0dad84c5] ArgTools
  [56f22d72] Artifacts
  [2a0f44e3] Base64
  [ade2ca70] Dates
  [8bb1440f] DelimitedFiles
  [8ba89e20] Distributed
  [f43a241f] Downloads
  [b77e0a4c] InteractiveUtils
  [4af54fe1] LazyArtifacts
  [b27032c2] LibCURL
  [76f85450] LibGit2
  [8f399da3] Libdl
  [37e2e46d] LinearAlgebra
  [56ddb016] Logging
  [d6f4376e] Markdown
  [a63ad114] Mmap
  [ca575930] NetworkOptions
  [44cfe95a] Pkg
  [de0858da] Printf
  [3fa0cd96] REPL
  [9a3f8284] Random
  [ea8e919c] SHA
  [9e88b42a] Serialization
  [6462fe0b] Sockets
  [2f01184e] SparseArrays
  [10745b16] Statistics
  [fa267f1f] TOML
  [a4e569a6] Tar
  [8dfed614] Test
  [cf7118a7] UUIDs
  [4ec0a83e] Unicode
  [e66e0078] CompilerSupportLibraries_jll
  [deac9b47] LibCURL_jll
  [29816b5a] LibSSH2_jll
  [c8ffd9c3] MbedTLS_jll
  [14a3606d] MozillaCACerts_jll
  [4536629a] OpenBLAS_jll
  [83775a58] Zlib_jll
  [8e850b90] libblastrampoline_jll
  [8e850ede] nghttp2_jll
  [3f19e933] p7zip_jll
[ Info: Global dimensions: (2048, 2048, 2048)
[ Info: Repetitions:       100

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048) -> (1025, 2048, 2048)
MPI topology: 2D decomposition (32×32 processes)
Method: PointToPoint
Permutations: Val{true}()

Average time: 1549.82045709 ms (TimerOutputs) over 100 repetitions
              1549.82951870 ms (MPI_Wtime) ± 84.73798434 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:             156s / 99.4%           55.5MiB / 24.4%    

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100    81.4s  52.5%   814ms   7.32MiB  54.0%  75.0KiB
   transpose!             200    70.8s  45.7%   354ms   6.00MiB  44.2%  30.7KiB
     unpack data          200    64.6s  41.7%   323ms   5.04MiB  37.2%  25.8KiB
       wait receive     6.20k    58.6s  37.8%  9.45ms   1.14MiB  8.36%     192B
       copy_permuted!   6.40k    5.89s  3.80%   920μs   3.91MiB  28.8%     640B
     pack data            200    6.29s  4.06%  31.4ms    782KiB  5.63%  3.91KiB
       copy_range!      6.40k    4.66s  3.00%   728μs     0.00B  0.00%    0.00B
   FFT                    300    10.6s  6.82%  35.2ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   7.11ms  0.00%  35.6μs    181KiB  1.30%     928B
 PencilFFTs ldiv!         100    73.6s  47.5%   736ms   6.25MiB  46.0%  64.0KiB
   transpose!             200    59.5s  38.4%   298ms   4.93MiB  36.3%  25.2KiB
     unpack data          200    50.1s  32.3%   250ms   3.97MiB  29.2%  20.3KiB
       wait receive     6.20k    40.8s  26.3%  6.58ms   1.14MiB  8.36%     192B
       copy_permuted!   6.40k    9.17s  5.92%  1.43ms   2.83MiB  20.9%     464B
     pack data            200    9.43s  6.08%  47.1ms    782KiB  5.63%  3.91KiB
       copy_range!      6.40k    7.02s  4.53%  1.10ms     0.00B  0.00%    0.00B
   FFT                    300    13.3s  8.55%  44.2ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.79ms  0.00%  14.0μs    181KiB  1.30%     928B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 293.007514 ms
  Average FFT        = 35.213269 ms
  Average (un)pack   = 52.730736 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 203.918739 ms
  Average FFT        = 44.185022 ms
  Average (un)pack   = 80.946379 ms
  Average others     = 0.000000 ms

Total from timers: 1499.4016 ms/iteration (50.4188 ms / 3.25% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048) -> (1025, 2048, 2048)
MPI topology: 2D decomposition (32×32 processes)
Method: Alltoallv
Permutations: Val{true}()

Average time: 1766.03958594 ms (TimerOutputs) over 100 repetitions
              1766.05711198 ms (MPI_Wtime) ± 43.69882945 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:             177s / 100%            9.52MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100    96.5s  54.7%   965ms   4.22MiB  44.4%  43.2KiB
   transpose!             200    80.3s  45.5%   402ms   3.07MiB  32.3%  15.7KiB
     pack data            200    72.3s  41.0%   362ms    151KiB  1.55%     776B
       MPI.Alltoallv!     200    62.2s  35.2%   311ms   75.0KiB  0.77%     384B
       copy_range!      6.40k    10.0s  5.67%  1.56ms     0.00B  0.00%    0.00B
     unpack data          200    8.00s  4.53%  40.0ms   2.83MiB  29.8%  14.5KiB
       copy_permuted!   6.40k    7.93s  4.49%  1.24ms   2.83MiB  29.8%     464B
   FFT                    300    15.0s  8.50%  50.0ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    182μs  0.00%   909ns     0.00B  0.00%    0.00B
 PencilFFTs mul!          100    80.1s  45.3%   801ms   5.29MiB  55.6%  54.2KiB
   transpose!             200    67.6s  38.3%   338ms   4.15MiB  43.6%  21.2KiB
     pack data            200    60.2s  34.1%   301ms    151KiB  1.55%     776B
       MPI.Alltoallv!     200    54.5s  30.8%   272ms   75.0KiB  0.77%     384B
       copy_range!      6.40k    5.74s  3.25%   897μs     0.00B  0.00%    0.00B
     unpack data          200    7.30s  4.14%  36.5ms   3.91MiB  41.1%  20.0KiB
       copy_permuted!   6.40k    7.27s  4.12%  1.14ms   3.91MiB  41.1%     640B
   FFT                    300    12.5s  7.09%  41.7ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    118μs  0.00%   590ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 272.251631 ms
  Average FFT        = 41.708968 ms
  Average (un)pack   = 65.029682 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 311.014169 ms
  Average FFT        = 50.013275 ms
  Average (un)pack   = 89.724396 ms
  Average others     = 0.000000 ms

Total from timers: 1751.2065 ms/iteration (14.8331 ms / 0.84% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048) -> (1025, 2048, 2048)
MPI topology: 2D decomposition (32×32 processes)
Method: PointToPoint
Permutations: Val{false}()

Average time: 2407.41760836 ms (TimerOutputs) over 100 repetitions
              2407.42922611 ms (MPI_Wtime) ± 54.47401226 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:             241s / 100%            13.8MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs mul!          100     123s  51.2%   1.23s   6.80MiB  49.1%  69.6KiB
   transpose!             200    70.2s  29.2%   351ms   4.93MiB  35.6%  25.2KiB
     unpack data          200    64.3s  26.7%   322ms   3.97MiB  28.7%  20.3KiB
       wait receive     6.20k    61.2s  25.4%  9.86ms   1.14MiB  8.20%     192B
       copy_permuted!   6.40k    3.10s  1.29%   484μs   2.83MiB  20.5%     464B
     pack data            200    5.91s  2.46%  29.6ms    782KiB  5.52%  3.91KiB
       copy_range!      6.40k    4.60s  1.91%   719μs     0.00B  0.00%    0.00B
   FFT                    300    53.0s  22.0%   177ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   14.4ms  0.01%  71.9μs    181KiB  1.28%     928B
 PencilFFTs ldiv!         100     117s  48.8%   1.17s   7.05MiB  50.9%  72.2KiB
   transpose!             200    58.5s  24.3%   292ms   4.93MiB  35.6%  25.2KiB
     unpack data          200    53.0s  22.0%   265ms   3.97MiB  28.7%  20.3KiB
       wait receive     6.20k    47.6s  19.8%  7.67ms   1.14MiB  8.20%     192B
       copy_permuted!   6.40k    5.34s  2.22%   835μs   2.83MiB  20.5%     464B
     pack data            200    5.42s  2.25%  27.1ms    782KiB  5.52%  3.91KiB
       copy_range!      6.40k    4.03s  1.67%   629μs     0.00B  0.00%    0.00B
   FFT                    300    58.1s  24.1%   194ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200   2.75ms  0.00%  13.7μs    181KiB  1.28%     928B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average PointToPoint = 305.879871 ms
  Average FFT        = 176.776144 ms
  Average (un)pack   = 38.489025 ms
  Average others     = 0.000000 ms

Backward transforms
  Average PointToPoint = 237.838084 ms
  Average FFT        = 193.768585 ms
  Average (un)pack   = 46.855012 ms
  Average others     = 0.000000 ms

Total from timers: 2369.7582 ms/iteration (37.6594 ms / 1.56% missing)

********************************************************************************

Transforms: (RFFT, FFT, FFT)
Input type: Float64
Global dimensions: (2048, 2048, 2048) -> (1025, 2048, 2048)
MPI topology: 2D decomposition (32×32 processes)
Method: Alltoallv
Permutations: Val{false}()

Average time: 2550.09787753 ms (TimerOutputs) over 100 repetitions
              2550.11464828 ms (MPI_Wtime) ± 56.59011868 ms 

 ──────────────────────────────────────────────────────────────────────────────
                                       Time                   Allocations      
                               ──────────────────────   ───────────────────────
       Tot / % measured:             255s / 100%            9.79MiB / 100%     

 Section               ncalls     time   %tot     avg     alloc   %tot      avg
 ──────────────────────────────────────────────────────────────────────────────
 PencilFFTs ldiv!         100     132s  51.8%   1.32s   5.02MiB  51.3%  51.4KiB
   transpose!             200    74.1s  29.1%   371ms   3.07MiB  31.4%  15.7KiB
     pack data            200    66.9s  26.2%   334ms    151KiB  1.51%     776B
       MPI.Alltoallv!     200    62.2s  24.4%   311ms   75.0KiB  0.75%     384B
       copy_range!      6.40k    4.59s  1.80%   717μs     0.00B  0.00%    0.00B
     unpack data          200    7.28s  2.85%  36.4ms   2.83MiB  28.9%  14.5KiB
       copy_permuted!   6.40k    7.19s  2.82%  1.12ms   2.83MiB  28.9%     464B
   FFT                    300    56.8s  22.3%   189ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    249μs  0.00%  1.25μs     0.00B  0.00%    0.00B
 PencilFFTs mul!          100     123s  48.2%   1.23s   4.77MiB  48.7%  48.8KiB
   transpose!             200    65.2s  25.6%   326ms   3.07MiB  31.4%  15.7KiB
     pack data            200    59.6s  23.4%   298ms    151KiB  1.51%     776B
       MPI.Alltoallv!     200    54.5s  21.4%   272ms   75.0KiB  0.75%     384B
       copy_range!      6.40k    5.08s  1.99%   794μs     0.00B  0.00%    0.00B
     unpack data          200    5.63s  2.21%  28.1ms   2.83MiB  28.9%  14.5KiB
       copy_permuted!   6.40k    5.55s  2.18%   867μs   2.83MiB  28.9%     464B
   FFT                    300    57.6s  22.6%   192ms     0.00B  0.00%    0.00B
   MPI.Waitall!           200    159μs  0.00%   795ns     0.00B  0.00%    0.00B
 ──────────────────────────────────────────────────────────────────────────────

Forward transforms
  Average Alltoallv  = 272.268599 ms
  Average FFT        = 191.933820 ms
  Average (un)pack   = 53.174920 ms
  Average others     = 0.000000 ms

Backward transforms
  Average Alltoallv  = 310.937942 ms
  Average FFT        = 189.390070 ms
  Average (un)pack   = 58.914009 ms
  Average others     = 0.000000 ms

Total from timers: 2534.5626 ms/iteration (15.5353 ms / 0.61% missing)

********************************************************************************
[ Info: Writing to results/IntelMPI.2019.9/N2048/PencilFFTs_PI.dat
[ Info: Writing to results/IntelMPI.2019.9/N2048/PencilFFTs_PA.dat
[ Info: Writing to results/IntelMPI.2019.9/N2048/PencilFFTs_NI.dat
[ Info: Writing to results/IntelMPI.2019.9/N2048/PencilFFTs_NA.dat
Number of processes:   1024
Dimensions:            2048×2048×2048
Number of repetitions: 100
Output file:           results/IntelMPI.2019.9/N2048/P3DFFT2.dat

Dimensions: (2048, 2048, 2048)
Processes:  (32, 32)
 Using stride-1 layout
 Using loop block sizes            1          32           1           1
 Running on            1 threads
L2 error: 2.5953e-22
Average time over 100 iterations: 1872.87 ± 16.2095 ms

P3DFFT timers (in milliseconds)
===============================
 ( 1)  72.533      MPI_Alltoallv (X -> Y)
 ( 2)  532.05      MPI_Alltoallv (Y -> Z)
 ( 3)  394.56      MPI_Alltoallv (Y <- Z)
 ( 4)  180.82      MPI_Alltoallv (X <- Y)

 ( 5)  45.755      FFT r2c X
 ( 6)  95.794      pack + unpack data (X -> Y)
 ( 7)  34.186      FFT c2c Y
 ( 8)  176.15      pack + unpack data (Y -> Z) + FFT c2c Z

 ( 9)  140.12      pack + unpack data (Y <- Z) + iFFT c2c Z
 (10)  34.696      iFFT c2c Y
 (11)  92.403      pack + unpack data (X <- Y)
 (12)  63.417      iFFT c2r X

 (13)  0.13529     normalise

TOTAL  1862.6203

Forward transforms
  Average Alltoallv = 302.291
  Average FFT       = 38.04244
  Average (un)pack  = 118.87835

Backward transforms
  Average Alltoallv = 287.68905
  Average FFT       = 44.269497
  Average (un)pack  = 98.916213
  Average normalise = 0.13528903

Total from timers: 1862.6203 ms/iteration (10.247373 ms / 0.5471% missing)
